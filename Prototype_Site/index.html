<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="Studio ZAAK">
    <!-- <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Studio ZAAK â€“ Virtual Reality, Augmented Reality und 3D im Web" />
    <meta property="og:description" content="Wir sind darauf spezialisiert interaktive Erlebnisse aus den Bereichen Virtual Reality, Augmented Reality und 3D Websiten zu designen und umzusetzen." />
    <meta property="og:url" content="https://www.zaak.ch/" />
    <meta property="og:site_name" content="Studio ZAAK" />
    <meta property="og:image" content="http://www.zaak.ch/img/zaak_logo.pngg" /> -->
    <title>RESIDENCY</title>
    <link rel="stylesheet" href="css/style_residency.css">
    <!-- <link rel="stylesheet" href="css/style.css"> -->
</head>

<body>

    <!-- <div class="menubar">menu</div> -->
    <div class="contentPage" id="landing">
        <div class="title ">
            <p>The Residency</p>
        </div>
        <div class="description">
            <p>kacke stinkt</p>
        </div>

    </div>
    <div class="contentPage" id="events">Residency Events
        <svg id="svg_events"></svg>


    </div>

    <div class="contentPage" id="description">
        <!-- <svg id="svg"></svg> -->

    </div>



</body>
<!-- <script src="js/pageController.js"></script> -->
<script src="js/libs/hammer.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/TweenMax.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/chroma-js/2.0.2/chroma.min.js"></script>


<script src="js/libs/WebGL.js"></script>
<script src="js/wavegen.js"></script>



<script src="js/libs/three.min.js"></script>
<script src="js/libs/OrbitControls.js"></script>
<script src="js/libs/GLTFLoader.js"></script>
<!-- <script src="js/libs/stats.min.js"></script> -->

<!-- <script src="js/house.js"></script> -->


<script>
    // var pageController = new PageController();

    // console.log(pageController);
    var landingDiv = document.getElementById("landing");
    var eventsDiv = document.getElementById("events");
    var descriptionDiv = document.getElementById("description");

    var swipeThreshold = 140;

    var mc_landing = new Hammer(landingDiv);
    mc_landing.get('pan').set({ threshold: swipeThreshold });
    var mc_events = new Hammer(eventsDiv);
    mc_events.get('pan').set({ threshold: swipeThreshold });
    var mc_description = new Hammer(descriptionDiv);
    mc_description.get('pan').set({ threshold: swipeThreshold });

    // addPage(landingDiv); // 0
    // addPage(eventsDiv); // 1
    // addPage(descriptionDiv); // 2

    // listen to events...
    mc_landing.on("panleft", function (ev) {

        TweenMax.to(eventsDiv, 0.5, { left: "0%" });


    });

    mc_landing.on("panright", function (ev) {

        TweenMax.to(descriptionDiv, 0.5, { right: "0%" });


    });


    // listen to events...
    mc_events.on("panleft", function (ev) {

    });

    mc_events.on("panright", function (ev) {

        TweenMax.to(eventsDiv, 0.5, { left: "100%" });

    });

    // listen to events...
    mc_description.on("panleft", function (ev) {

        TweenMax.to(descriptionDiv, 0.5, { right: "100%" });

    });

    mc_description.on("panright", function (ev) {


    });

    hideAllPages();

    function hideAllPages() {

        TweenMax.to(eventsDiv, 0.6, { left: "100%", delay: 0.2 });
        TweenMax.to(descriptionDiv, 0.4, { right: "100%", delay: 0.1 });


    }


    //LOADING
    if (WEBGL.isWebGLAvailable() === false) {
        document.body.appendChild(WEBGL.getWebGLErrorMessage());
    }
    var container, stats, controls;
    var camera, scene, renderer, light;
    init();
    animate();
    function init() {
        container = document.createElement('div');

        landingDiv.appendChild(container);
        camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.2, 200);
        camera.position.set(0, 0.0, -5);
        controls = new THREE.OrbitControls(camera);
        controls.target.set(0, 0.3, 0);
        controls.update();
        controls.dampingFactor = 0.3;
        controls.dampingFactor = 0.1; // friction
        controls.rotateSpeed = 0.01; // mouse sensitivity
        controls.autoRotate = true;
        controls.autoRotateSpeed = 1.0;
        controls.enableRotate = false;
        controls.enablePan = false;
        controls.enableZoom = false;
        // // var urls = [ 'posx.jpg', 'negx.jpg', 'posy.jpg', 'negy.jpg', 'posz.jpg', 'negz.jpg' ];
        // var loader = new THREE.CubeTextureLoader().setPath( 'textures/cube/Bridge2/' );
        // var background = loader.load( urls );

        var fogColor = 0x96D0FF;
        scene = new THREE.Scene();
        scene.background = new THREE.Color(fogColor);//background;

        // scene.background = fogColor;
        scene.fog = new THREE.Fog(fogColor, 0.0025, 20);



        light = new THREE.HemisphereLight(0xbbbbff, 0x444422);
        light.position.set(0, 1, 0);
        scene.add(light);
        light = new THREE.DirectionalLight(0xffffff, 0.5);
        light.castShadow = true;
        light.position.set(0, 1, 0);
        scene.add(light);
        // model
        var loader = new THREE.GLTFLoader().setPath('assets/models/');
        loader.load('house_0.gltf', function (gltf) {
            gltf.scene.traverse(function (child) {
                if (child.isMesh) {
                    // child.material.envMap = background;
                    console.log(child);
                }
            });
            scene.add(gltf.scene);
        }, undefined, function (e) {
            console.error(e);
        });
        renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setPixelRatio(window.devicePixelRatio);
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.gammaOutput = true;
        // renderer.setClearColorHex( 0x96D0FF, 1 );
        container.appendChild(renderer.domElement);
        window.addEventListener('resize', onWindowResize, false);
        // stats
        // stats = new Stats();
        // container.appendChild(stats.dom);
    }
    function onWindowResize() {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    }
    //
    function animate() {
        controls.update();

        requestAnimationFrame(animate);
        renderer.render(scene, camera);
        // stats.update();
        // console.log(controls);
    }


    //  showPage(0);
    // var left = $('#events').offset().left;

    // $("#events").css({ left: left }).animate({ "left": "0px" }, 10000);

    // var right = $('#description').offset().right;

    // $("#description").css({ right: right }).animate({ "right": "0px" }, 20000);
</script>

</html>